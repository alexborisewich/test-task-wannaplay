(self.webpackChunktest_task_wannaplay=self.webpackChunktest_task_wannaplay||[]).push([[957],{7156:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(5193),s=n(1614),i=n(2038),a=n(984),o=n(2791);var l=n(184);const c=()=>{const e=(0,i.Y0)(),[t,n]=(0,o.useState)(!0),{width:r,height:s}=e.screen,c={width:r,height:s},d=new a.TCu;d.beginFill(16777215),d.drawCircle(0,0,25);const p=new a.TCu,u=a.TIb.create({...c}),h=new a.jyi(u);let x=!1,w=null;const j=()=>{x=!1,w=null;((e,t,n)=>{const r=Array.from(e).filter(((e,t)=>t%4===0)).reduce(((e,t)=>(t>0&&e++,e)),0),s=t*n,i=Math.round(r/s*100);return console.warn("Scratched: ".concat(i,"%")),i>=80})(e.renderer.extract.pixels(u),r,s)&&n(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.jy,{isMask:!0,image:"https://pixijs.com/assets/bg_grass.jpg",...c}),(0,l.jsx)(i.jy,{image:"https://pixijs.com/assets/bg_rotate.jpg",...c,mask:t?h:null,onpointermove:t=>{let{global:{x:n,y:r}}=t;x&&(d.position.set(n,r),e.renderer.render(d,{renderTexture:u,clear:!1,skipUpdateTransform:!1}),w&&(p.clear().lineStyle({width:50,color:16777215}).moveTo(w.x,w.y).lineTo(n,r),e.renderer.render(p,{renderTexture:u,clear:!1,skipUpdateTransform:!1})),w=w||new a.E9j,w.set(n,r))},onpointerdown:()=>x=!0,onpointerup:j,onpointerupoutside:j})]})},d={display:"flex",justifyContent:"center",alignItems:"center"},p=()=>{const e=(0,r.Z)("(min-width:1200px)");return(0,l.jsx)(s.Z,{component:"section",sx:d,children:(0,l.jsx)(i.Hf,{width:e?1e3:500,height:e?800:600,options:{eventMode:"static"},children:(0,l.jsx)(c,{})})})}},4654:()=>{}}]);
//# sourceMappingURL=957.a8cb0025.chunk.js.map